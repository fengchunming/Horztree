<!DOCTYPE HTML>
<html>
<head>
    <script>
        $(function () {
            _LocalKV.uomType = {
                "WGT":'重量',
                "VOL":'体积',
                "QTY":'数量'
            };
            App.Uom = App.Model.extend({
                urlRoot: 'rest/base/uom'
            });

            App.UomList = App.Collection.extend({
                model: App.Uom,
                columns: [
                    {label: '名称', key: 'name', sort: true},
                    {label: '符号', key: 'symbol', sort: true},
                    {label: '类型', key: 'type', sort: true, local: 'uomType'},
                    {label: '简写', key: 'abbr', sort: true},
                    {label: '状态', key: 'status', local:'status', sort: true}
                ]
            });

            App.UomGrid = App.Grid.extend({
                collection: new App.UomList,
                form: new App.FormView,
                qel: '.queryBar',
                toolbar: ['create', 'sync'],
                sync: function () {
                    $.ajax({
                        contentType: 'application/json',
                        dataType: 'json',
                        type: 'POST',
                        url: 'rest/base/sendUom'
                    });
                }
            });

            new App.UomGrid;
        });
    </script>
</head>
<body>
<div id="article">
    <form class="queryBar">
        <ul>
            <li>
                <label>名称：</label>
                <input type="text" name="name"/>
            </li>
            <li>
                <label>状态：</label>
                <select name="status" data-local="status">
                    <option value="">所有</option>
                </select>
            </li>
            <li>
                <button class="search"><i></i>查询</button>
            </li>
            <li class="toolBar"></li>
        </ul>
    </form>
    <div class="dataGrid">
        <table class="app"></table>
    </div>
    <div class="page"></div>
</div>

<div class="navPanel">
    <div class="toolBar"></div>
    <div class="editorPanel">
        <form>
            <ol>
                <li>
                    <label>单位名称:</label>
                    <input type="text" name="name" required/>
                </li>
                <li>
                    <label>简写:</label>
                    <input type="text" name="abbr" required/>
                </li>
                <li>
                    <label>类型:</label>
                    <select name="type" data-local="uomType"></select>
                </li>
                <li>
                    <label>符号:</label>
                    <input type="text" name="symbol"/>
                </li>
                <li>
                    <label>备注:</label>
                    <input type="text" name="remark"/>
                </li>
                <li>
                    <label>状态:</label>
                    <select name="status" data-local="status"></select>
                </li>
            </ol>
        </form>
    </div>
</div>
</body>
</html>

<!DOCTYPE HTML>
<html>
<head>
    <script>
        $(function () {
            App.Item = App.Model.extend({
                urlRoot: 'rest/wm/item',
                idAttribute: 'itemId'
            });

            App.ItemEditor = App.FormView.extend({
                toolbar: ['create', 'save', 'trash', 'hide'],
                size: {width: 600}
            });

            App.ItemList = App.Collection.extend({
                model: App.Item,
                columns: [
                    {label: '编码', key: 'pn', sort: true, thcss: 'width:100px'},
                    {label: '名称', key: 'name', sort: true},
                    {label: '条码', key: 'barcode', sort: true, thcss: 'width:100px'},
//                    {label: '分类', key: 'category', local: 'mm/kv/category', thcss: 'width:200px'},
                    {label: '价格', key: 'costPrice', thcss: 'width:70px;'},
                    {label: '安全库存', key: 'safeLine', thcss: 'width:70px;'},
                    {label: '单位', key: 'skuUom.id', local: 'base/kv/uom', thcss: 'width:60px;'},
                    {label: '状态', key: 'status', local: 'status', thcss: 'width:45px;'}
                ]
            });

            App.ItemGrid = App.Grid.extend({
                collection: new App.ItemList,
                form: new App.ItemEditor,
                toolbar: ['create'],
                qel: '.queryBar'
            });

            App.itemGrid = new App.ItemGrid();
        });
    </script>
</head>
<body>
<div id="article">
    <form class="queryBar">
        <ul>
            <li>
                <label>商品名称：</label>
                <input type="text" name="goodsName"/>
            </li>
            <li>
                <label>商品编号：</label>
                <input type="text" name="pn"/>
            </li>
            <li>
                <label>商品条码：</label>
                <input type="text" name="barcode"/>
            </li>
            <!-- 
            <li>
                <label>分类：</label>
                <select name="category" data-local="mm/kv/categoryLeaf">
                    <option value="">所有</option>
                </select>
            </li>
            <li>
                <label>品牌：</label>
                <select name="brand" data-local="mm/kv/brand">
                    <option value="">所有</option>
                </select>
            </li>
             -->
            <li>
                <button class="search"><i></i>查询</button>
            </li>
            <li class="toolBar"></li>
        </ul>
    </form>
    <div class="dataGrid">
        <table class="app"></table>
    </div>
    <div class="page"></div>
</div>

<div class="navPanel">
    <div class="toolBar"></div>
    <div class="editorPanel">
        <div id="tabs">
            <ul>
                <li><a href="#tab_1"><span>基本信息</span></a></li>
                <li><a href="#tab_2"><span>库存概况</span></a></li>
            </ul>
            <div id="tab_1">
                <form>
                    <ol>
                        <li>
                            <label>商品名称:</label>
                            <input type="text" name="name" required style="width:300px" placeholder="商品名称"/>
                        </li>
                        <li>
                            <label>商品编码:</label>
                            <input type="text" name="pn" id="pn" required placeholder="商品编码"/>
                        </li>
                        <li>
                            <label>商品条形码:</label>
                            <input type="text" name="barcode" placeholder="商品条形码">
                        </li>
                        <!--<li>-->
                            <!--<label>商品类型:</label>-->
                            <!--<select name="type" data-local="goodsType"></select>-->
                        <!--</li>-->
                        <li>
                            <label>度量单位:</label>
                            <select name="skuUom.id" data-local="base/kv/uom"></select>
                        </li>
                        <!--<li>-->
                            <!--<label>商品分类:</label>-->
                            <!--<select name="category" data-local="mm/kv/category"></select>-->
                        <!--</li>-->
                        <li>
                            <label>货主:</label>
                            <select name="belong.id" data-local="sys/kv/org">
                                <option></option>
                            </select>
                        </li>
                        <li>
                            <label>供应商:</label>
                            <select name="supplier.id" data-local="sys/kv/supplier">
                                <option></option>
                            </select>
                        </li>
                        <li>
                            <label>重量(g):</label>
                            <input type="number" name="weight">
                        </li>
                        <li>
                            <label>保质期(天):</label>
                            <input type="number" name="shelfLife" min="0" placeholder="保质期（天）"/>
                        </li>
                        <li>
                            <label>收货已过天数&lt;:</label>
                            <input type="number" name="remainLife" min="0" placeholder="收货限制"/>
                        </li>
                        <li>
                            <label>基准进价:</label>
                            <input type="number" name="costPrice" step="0.0001" required placeholder="基准进价"/>
                        </li>
                        <li>
                            <label>移动平均价:</label>
                            <input type="number" name="avgPrice" placeholder="本项不可编辑" disabled/>
                        </li>
                        <li>
                            <label>标准损耗率:</label>
                            <input type="text" name="lossRate" placeholder="标准损耗率">
                        </li>

                        <li>
                            <label>安全库存:</label>
                            <input type="number" name="safeLine"/>
                        </li>
                        <li>
                            <label>存储属性:</label>
                            <select name="storageType">
                                <option value="0">默认</option>
                            </select>
                        </li>
                        <li>
                            <label>周转率:</label>
                            <select name="turnover">
                                <option value="0">默认</option>
                            </select>
                        </li>
                        <li>
                            <label>状态:</label>
                            <select name="status" data-local="status"></select>
                        </li>
                    </ol>
                </form>
            </div>

            <div id="tab_2">
                <div class="toolBar"></div>
                <table class="app"></table>
                <div class="page"></div>
            </div>
        </div>
    </div>
</div>
</body>
</html>